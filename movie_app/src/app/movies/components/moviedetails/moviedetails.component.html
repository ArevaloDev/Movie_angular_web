<div
  *ngIf="!isLoading; else movieList"
  class="container py-4 animate__animated animate__fadeInUp"
>
  <div  class="card mb-3 shadow-lg border-0">
    <div class="row g-0">
      <!-- Poster -->
      <div class="col-md-4">
        <img
          [src]="'https://image.tmdb.org/t/p/w780' + movie.poster_path"
          class="img-fluid rounded-start"
          alt="Poster"
        />
      </div>

      <!-- Info -->
      <div class="col-md-8">
        <div class="card-body d-flex flex-column h-100 justify-content-between">
          <div>
            <h3 class="card-title fw-bold text-primary">{{ movie.title }}</h3>
            <p class="card-text text-muted">
              <small>Fecha de lanzamiento: {{ movie.release_date }}</small>
            </p>
            <p class="card-text">{{ movie.overview }}</p>
            <p class="card-text">Generos:</p>
            <ul *ngFor="let genre of movie.genres" class="list-group list-group-flush">
              <li class="list-group-item">{{genre.name}}</li>
            </ul>
          </div>

          <div class="d-flex justify-content-between align-items-center mt-3">
            <span class="badge bg-warning text-dark fs-6">
              ‚≠ê{{ movie.vote_average }}
            </span>
            <button class="btn btn-danger">
              <i class="bi bi-heart-fill me-2"></i> Agregar a Favoritos
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<ng-template #movieList>
  <div class="text-center my-5">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Cargando...</span>
    </div>
  </div>
</ng-template>

<app-error-message [errorMessage]="errorMessage"></app-error-message>
